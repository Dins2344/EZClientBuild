import{u as n,j as e,r}from"./index-fb96649b.js";import{a as c}from"./axios-4a70c6fc.js";import{u as d}from"./formik.esm-efe2a7ba.js";import{c as m,a as i}from"./index.esm-0a980d12.js";const u=async t=>{try{return await c.post("http://localhost:4000/auth/admin-login",t)}catch(s){console.log("error in login",s)}},g=m().shape({email:i().email("Invalid email address").required("Email is required"),password:i().required("Password is required")}),x=()=>{const t=n(),s=d({initialValues:{email:"",password:""},validationSchema:g,onSubmit:async a=>{console.log(a);const o=await u(a);console.log(o),o!=null&&o.data&&(localStorage.setItem("adminToken",o.data.token),t("/admin"))}});return e.jsx("div",{className:"relative flex flex-col justify-center min-h-screen p-6",children:e.jsxs("div",{className:"w-full p-6 m-auto bg-white rounded-md shadow-md md:max-w-xl lg:w-1/3",children:[e.jsx("h1",{className:"text-3xl font-semibold text-center text-black ",children:"Admin Login"}),e.jsxs("form",{className:"mt-6",onSubmit:s.handleSubmit,children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-800",children:"Email"}),e.jsx("input",{id:"email",type:"text",...s.getFieldProps("email"),className:"block w-full px-4 py-2 mt-2 text-black bg-white border rounded-md focus:border-black focus:ring-green-300 focus:outline-none focus:ring focus:ring-opacity-40"}),s.touched.email&&s.errors.email&&e.jsx("div",{className:"text-red-500 text-sm",children:s.errors.email})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-800",children:"Password"}),e.jsx("input",{id:"password",type:"password",...s.getFieldProps("password"),className:"block w-full px-4 py-2 mt-2 text-black bg-white border rounded-md focus:border-black focus:ring-green-300 focus:outline-none focus:ring focus:ring-opacity-40"}),s.touched.password&&s.errors.password&&e.jsx("div",{className:"text-red-500 text-sm",children:s.errors.password})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{type:"submit",className:"w-full px-4 py-2 tracking-wide text-white transition-colors duration-200 transform bg-green-400 rounded-md hover:bg-green-600 focus:outline-none focus:bg-green-600",children:"Login"})})]})]})})};function w(){const[t,s]=r.useState(),a=n(),o=localStorage.getItem("adminToken"),l=()=>{s(!!o)};if(r.useEffect(()=>{l()}),t)a("/admin");else return e.jsx(e.Fragment,{children:e.jsx(x,{})})}export{w as default};
