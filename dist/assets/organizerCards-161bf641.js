import{r as n,a as v,s as y,u as b,j as e,c as r}from"./index-aa30c290.js";import{b as N,c as O,u as k}from"./userApis-2bde5bf5.js";import{k as u,Q as m}from"./ReactToastify-31fa32d1.js";const z=({organization:s})=>{const[a,t]=n.useState(),[i,g]=n.useState(!1),d=()=>g(!i),h=v(y);n.useEffect(()=>{x()},[]);const x=async()=>{const o=await N();o!=null&&o.data.data.following.includes(s._id)&&t(!0)},p=async o=>{if(h){const l=await O(o);l!=null&&l.data.response.ok&&(t(!0),j())}else d()},f=async o=>{const l=await k(o);l!=null&&l.data.response.ok&&(t(!1),w())},c=b(),w=()=>{m.warn("You will no longer receive updates from the organizer...!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},j=()=>{m.success("You will receive updates from the organizer....!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})};return e.jsxs(e.Fragment,{children:[e.jsx(u,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsx(u,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"colored"}),e.jsxs(r.Dialog,{open:i,handler:d,children:[e.jsxs(r.DialogBody,{divider:!0,className:"grid place-items-center gap-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-16 w-16 text-red-500",children:e.jsx("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0113.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 01-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 11-7.48 0 24.585 24.585 0 01-4.831-1.244.75.75 0 01-.298-1.205A8.217 8.217 0 005.25 9.75V9zm4.502 8.9a2.25 2.25 0 104.496 0 25.057 25.057 0 01-4.496 0z",clipRule:"evenodd"})}),e.jsx(r.Typography,{color:"red",variant:"h4",children:"You should login...!"}),e.jsx(r.Typography,{className:"text-center font-normal",children:"You should have to login to explore more features"})]}),e.jsxs(r.DialogFooter,{className:"space-x-2",children:[e.jsx(r.Button,{size:"sm",variant:"text",color:"red",onClick:d,children:"close"}),e.jsx(r.Button,{size:"sm",onClick:()=>{c("/register/user-login")},children:"lets login"})]})]}),e.jsx("div",{className:" px-5 w-64 mr-3 max-w-xl bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col w-full items-center mt-10 pb-10",children:[e.jsx("img",{className:"w-24 h-24 mb-3 rounded-full shadow-lg",src:s.logo?s.logo:"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:"Bonnie image"}),e.jsx("h5",{className:"mb-1 text-xl font-medium text-gray-900 dark:text-white",children:s.orgName}),e.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Followers count"}),e.jsxs("div",{className:"flex justify-between mt-4 space-x-3 w-48 md:mt-6",children:[a?e.jsx(r.Button,{onClick:()=>f(s._id),size:"sm",children:"Unfollow"}):e.jsx(r.Button,{onClick:()=>p(s._id),size:"sm",children:"Follow"}),e.jsx(r.Button,{onClick:()=>{const o=s._id;c(`/show-organizer/?id=${o}`)},size:"sm",variant:"outlined",children:"View"})]})]})},s._id)]})},_=()=>{const s=new Array(10).fill(0);return e.jsx(e.Fragment,{children:s.map((a,t)=>e.jsxs("div",{className:"p-3",children:[e.jsx("p",{className:"hidden",children:a}),e.jsxs("div",{className:"w-52 h-64 border-2 rounded-md border-gray-300 animate-pulse flex flex-col items-center",children:[e.jsx("div",{className:"rounded-full w-20 h-20 bg-gray-300 mt-10"}),e.jsx("div",{className:"w-20 h-4 bg-gray-300 mt-2 rounded-md"}),e.jsx("div",{className:"w-14 h-3 bg-gray-300 mt-1 rounded-md"}),e.jsxs("div",{className:"flex justify-between w-full px-2 mt-12",children:[e.jsx("div",{className:"w-20 h-8 bg-gray-300 rounded-md"}),e.jsx("div",{className:"w-20 h-8 bg-gray-300 rounded-md"})]})]})]},t))})};export{z as O,_ as a};
