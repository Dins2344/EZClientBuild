import{r as i,j as e,c as s,M as D}from"./index-1b70dfac.js";import{c as M,e as P,r as L,p as q,f as H}from"./admin-405496b7.js";import"./envConfig-2c904499.js";const O=["Events","Organization","Start time","End time","Location","Status","Action"];function W(){const[j,m]=i.useState(),[o,x]=i.useState(!1),[u,y]=i.useState(!1),[v,t]=i.useState(""),[h,n]=i.useState(""),l=()=>y(!u),b=async()=>{const a=await M();m(a==null?void 0:a.data.data)},p=j;i.useEffect(()=>{b()},[o]);const f=()=>{switch(v){case"promote":z(h),t(""),n("");break;case"demote":B(h),t(""),n("");break;case"approve":N(h),t(""),n("");break;case"reject":w(h),t(""),n("");break}},N=async a=>{l();const r=await P(a);r!=null&&r.data&&x(!o)},w=async a=>{l();const r=await L(a);r!=null&&r.data&&x(!o)},z=async a=>{l();const r=await q(a);r!=null&&r.data.response.ok&&x(!o)},B=async a=>{l();const r=await H(a);r!=null&&r.data.response.ok&&x(!o)};return e.jsxs(e.Fragment,{children:[e.jsxs(s.Card,{className:"h-full w-full",children:[e.jsx(s.CardHeader,{floated:!1,shadow:!1,className:"rounded-none",children:e.jsxs("div",{className:"mb-4 flex flex-col justify-between gap-8 md:flex-row md:items-center",children:[e.jsxs("div",{children:[e.jsx(s.Typography,{variant:"h5",color:"blue-gray",children:"All Events"}),e.jsx(s.Typography,{color:"gray",className:"mt-1 font-normal",children:"You can control all the events here..."})]}),e.jsx("div",{className:"flex w-full shrink-0 gap-2 md:w-max",children:e.jsx("div",{className:"w-full md:w-72",children:e.jsx(s.Input,{label:"Search",icon:e.jsx(D,{className:"h-5 w-5"})})})})]})}),e.jsx(s.CardBody,{className:"overflow-scroll px-0",children:e.jsxs("table",{className:"w-full min-w-max table-auto text-left",children:[e.jsx("thead",{children:e.jsx("tr",{children:O.map(a=>e.jsx("th",{className:"border-y border-blue-gray-100 bg-blue-gray-50/50 p-4",children:e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal leading-none opacity-70",children:a})},a))})}),e.jsx("tbody",{children:p&&p.map(({_id:a,imageURL:r,eventName:g,orgName:E,startDate:k,startTime:C,endDate:T,endTime:A,addressLine1:I,addressLine2:R,status:d,isPromoted:S},F)=>{const c=F===p.length-1?"p-2":"p-2 border-b border-blue-gray-50";return e.jsxs("tr",{children:[e.jsx("td",{className:c,children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(s.Avatar,{src:r[0],alt:"image",size:"md",className:"border border-blue-gray-50 bg-blue-gray-50/50 object-contain p-1"}),e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"font-bold",children:g})]})}),e.jsx("td",{className:c,children:e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:E})}),e.jsx("td",{className:c,children:e.jsxs(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:[k,e.jsx("br",{}),C]})}),e.jsx("td",{className:c,children:e.jsxs(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal",children:[T,e.jsx("br",{}),A]})}),e.jsx("td",{className:c,children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal capitalize",children:[I.split("-").join(" ")," ",R]}),e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"font-normal opacity-70",children:"'expiry'"})]})})}),e.jsx("td",{className:c,children:e.jsx("div",{className:"w-max",children:e.jsx(s.Chip,{size:"sm",variant:"ghost",value:d,color:d==="approved"?"green":d==="draft"?"amber":"red"})})}),e.jsxs("td",{className:c,children:[d==="requested"&&e.jsxs(e.Fragment,{children:[e.jsx(s.Button,{className:"mr-2",size:"sm",color:"green",onClick:()=>{t("approve"),n(a),l()},children:"Approve"}),e.jsx(s.Button,{size:"sm",color:"red",onClick:()=>{t("reject"),n(a),l()},children:"Reject"})]}),d==="approved"&&e.jsxs(e.Fragment,{children:[e.jsx(s.Button,{size:"sm",color:"red",className:"mr-2",onClick:()=>{t("reject"),n(a),l()},children:"Reject"}),S?e.jsx(s.Button,{size:"sm",color:"red",onClick:()=>{t("demote"),n(a),l()},children:"Demote"}):e.jsx(s.Button,{size:"sm",color:"green",onClick:()=>{t("promote"),n(a),l()},children:"Promote"})]})]})]},g)})})]})}),e.jsxs(s.CardFooter,{className:"flex items-center justify-between border-t border-blue-gray-50 p-4",children:[e.jsx(s.Button,{variant:"outlined",color:"blue-gray",size:"sm",children:"Previous"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(s.IconButton,{variant:"outlined",color:"blue-gray",size:"sm",children:"1"}),e.jsx(s.IconButton,{variant:"text",color:"blue-gray",size:"sm",children:"2"}),e.jsx(s.IconButton,{variant:"text",color:"blue-gray",size:"sm",children:"3"}),e.jsx(s.IconButton,{variant:"text",color:"blue-gray",size:"sm",children:"..."}),e.jsx(s.IconButton,{variant:"text",color:"blue-gray",size:"sm",children:"8"}),e.jsx(s.IconButton,{variant:"text",color:"blue-gray",size:"sm",children:"9"}),e.jsx(s.IconButton,{variant:"text",color:"blue-gray",size:"sm",children:"10"})]}),e.jsx(s.Button,{variant:"outlined",color:"blue-gray",size:"sm",children:"Next"})]})]}),e.jsx(Y,{open:u,handleOpen:l,handleHandlers:f})]})}const Y=({open:j,handleOpen:m,handleHandlers:o})=>e.jsx(e.Fragment,{children:e.jsxs(s.Dialog,{open:j,handler:m,children:[e.jsxs(s.DialogBody,{className:"grid place-items-center gap-4",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"h-16 w-16 text-red-500",children:e.jsx("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0113.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 01-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 11-7.48 0 24.585 24.585 0 01-4.831-1.244.75.75 0 01-.298-1.205A8.217 8.217 0 005.25 9.75V9zm4.502 8.9a2.25 2.25 0 104.496 0 25.057 25.057 0 01-4.496 0z",clipRule:"evenodd"})}),e.jsx(s.Typography,{color:"red",variant:"h4",children:"You should read this!"}),e.jsx(s.Typography,{className:"text-center font-normal",children:"Are you sure you want to do this action .This action is irreversible. Please proceed with awareness."})]}),e.jsxs(s.DialogFooter,{className:"space-x-2",children:[e.jsx(s.Button,{variant:"text",color:"red",size:"sm",onClick:m,children:"Cancel"}),e.jsx(s.Button,{size:"sm",color:"green",onClick:o,children:"Proceed"})]})]})}),K=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen px-2",children:e.jsx(W,{})})});export{K as default};
